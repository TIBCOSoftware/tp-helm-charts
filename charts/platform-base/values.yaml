#
# Copyright Â© 2023 - 2025. Cloud Software Group, Inc.
# This file is subject to the license terms contained
# in the license file that is distributed with this file.
#

# Bundle CP side charts
global:
  tibco:
    is_replica_region: false
    finops: "disable"
    serviceAccount: ""
    containerRegistry:
      url: ""
      username: ""
      password: ""
      repository: ""  # repository
      certificateSecret: ""  # secret name containing the custom certificates
    controlPlaneInstanceId: ""
    useSingleNamespace: true
    enableResourceConstraints: true
    logging:
      # The fluentbit configuration section.
      # It specifies that the fluentbit should not run as a non-root user and the user ID should be 0 (root).
      # Privilege escalation is not allowed for security reasons.
      # Additionally, it drops all capabilities, which is a common security practice to minimize potential risks.
      # GitHub issue: https://github.com/fluent/fluent-bit/issues/872#issuecomment-827763207, https://github.com/kyma-project/kyma/pull/11657/files
      fluentbit:
        enabled: true
        image:
          name: "common-fluentbit"
          registry: ""
          repo: ""
          tag: 4.0.3
          pullPolicy: IfNotPresent
        resources:
          requests:
            cpu: 50m
            memory: 100Mi
          limits:
            cpu: 100m
            memory: 150Mi
      repository: "tibco-platform-docker-prod"  # repository
  external:
    db_host: ""
    db_master_writer_host: ""
    db_local_reader_host: ""
    db_name: ""
    db_port: ""
    db_username: ""
    db_password: ""
    db_secret_name: ""
    environment: "production"
    db_ssl_mode: "disable"
    db_ssl_root_cert: ""
    fromAndReplyToEmailAddress: ""
    cronJobReportsEmailAlias: ""
    platformEmailNotificationCcAddresses: ""
    cpEncryptionSecretName: "cporch-encryption-secret"
    cpEncryptionSecretKey: "CP_ENCRYPTION_SECRET"
    emailServerType: "ses"  # Default to SES with dummy value
    emailServer:
      ses:
        arn: "arn:aws:ses:us-east1:123456789012:identity/user@example.com"
      smtp:
        server: ""
        port: "25"
        username: ""
        password: ""
      sendgrid:
        apiKey: ""
    admin:
      email: ""
      firstname: ""
      lastname: ""
      customerID: ""
    dnsDomain: ""
    dnsTunnelDomain: ""
    clusterInfo:
      nodeCIDR: ""
      serviceCIDR: ""
      podCIDR: ""
    adminInitialPassword: ""
    storage:
      pvcName: "control-plane-pvc"

# Default values for tp-cp-integration.
tp-cp-integration:
  enabled: true
  tp-cp-integration-bw:
    enabled: true
  tp-cp-integration-flogo:
    enabled: true
  tp-cp-bwce-utilities:
    enabled: true
  tp-cp-bw5ce-utilities:
    enabled: true
  tp-cp-flogo-utilities:
    enabled: true

tags:
  integration: true

# Default values for tp-cp-recipes.
tp-cp-recipes:
  enabled: true

# Default values for tp-cp-tibcohub-contrib.
tp-cp-tibcohub-contrib:
  enabled: true

# Default values for platform-cp-messaging
platform-cp-messaging:
  useCpEnv: true
  enabled: true

# Default values for tp-cp-msg-contrib.
tp-cp-msg-contrib:
  enabled: true

# Default values for tp-cp-msg-recipes.
tp-cp-msg-recipes:
  enabled: true

# Default values for tp-cp-hawk.
tp-cp-hawk:
  enabled: true
  tp-cp-hawk-infra-prometheus:
    enabled: false

# Default values for tp-cp-cli.
tp-cp-cli:
  enabled: true

# Default values for tp-cp-prometheus.
tp-cp-prometheus:
  enabled: true

tp-cp-o11y:
  enabled: true
  # Resource values for production-like setup
  # requests: Minimum amount of resources required for the application to run.
  # limits: Maximum amount of resources the application can use.
  resources:
    requests:
      cpu: 200m  # Minimum CPU required
      memory: 256Mi  # Minimum memory required
    limits:
      cpu: 500m  # Maximum CPU allowed
      memory: 1024Mi  # Maximum memory allowed

tp-cp-configuration:
  # Resource values for production-like setup
  # requests: Minimum amount of resources required for the application to run.
  # limits: Maximum amount of resources the application can use.
  resources:
    requests:
      cpu: 50m  # Minimum CPU required
      memory: 30Mi  # Minimum memory required
    limits:
      cpu: 100m  # Maximum CPU allowed
      memory: 60Mi  # Maximum memory allowed

tp-cp-infra:
  enabled: true
  dpMetadata:
    dpCoreInfrastructureChartVersion: "1.10.3"
    dpCoreInfrastructureAppVersion: "1.10.0"
    dpConfigureNamespaceChartVersion: "1.10.4"
    dpConfigureNamespaceAppVersion: "1.10.0"
  # Resource values for production-like setup
  # requests: Minimum amount of resources required for the application to run.
  # limits: Maximum amount of resources the application can use.
  resources:
    requests:
      cpu: 200m  # Minimum CPU required
      memory: 256Mi  # Minimum memory required
    limits:
      cpu: 500m  # Maximum CPU allowed
      memory: 1024Mi  # Maximum memory allowed

tp-cp-auditsafe:
  enabled: true
  # Resource values for production-like setup
  # requests: Minimum amount of resources required for the application to run.
  # limits: Maximum amount of resources the application can use.
  resources:
    requests:
      cpu: 200m  # Minimum CPU required
      memory: 256Mi  # Minimum memory required
    limits:
      cpu: 500m  # Maximum CPU allowed
      memory: 1024Mi  # Maximum memory allowed
