{{- /*
# Copyright Â© 2025. Cloud Software Group, Inc.
# This file is subject to the license terms contained
# in the license file that is distributed with this file.
*/}}

{{ if .Values.global.tibco.containerRegistry.username }}
{{ if .Values.global.tibco.containerRegistry.password }}

apiVersion: v1
kind: Secret
metadata:
  name: {{ include "on-premises-third-party.container-registry.secret" . }}
  namespace: {{ .Release.Namespace }}
  annotations:
    "helm.sh/hook": pre-install,pre-upgrade
    "helm.sh/hook-weight": "-1" # Ensures this runs before other pre-install hooks
type: kubernetes.io/dockerconfigjson
data:
  .dockerconfigjson: {{ template "on-premises-third-party.imageCredential" . }}

{{- end }}
{{- end }}