idm {
      enable-cic-short-cookie = "true"
}

idps {
    default-idp {
      autoRegisterDomains = ""
      hostName = "localhost"
      hostName = ${?IDENTITY_MANAGEMENT_DEFAULTIDP_HOSTNAME}
      podHostName = "localhost"
      podHostName = ${?TP_CP_IDP_HOST}
      attributeMappings {
        email = "urn:oid:1.3.6.1.4.1.5923.1.1.1.6"
        firstName = "urn:oid:2.5.4.42"
        lastName = "urn:oid:2.5.4.4"
        subject = "subject"
      }
      issuer = "tibco-controlplane"
      searchUrl = "http://"${idps.default-idp.podHostName}":7893/v1/users"
      inviteUrl = "http://"${idps.default-idp.podHostName}":7893/v1/users"
      cleanupResourcesUrl = "http://"${idps.default-idp.podHostName}":7893/v1/expired-resources/cleanup"
      loginUrl = "https://"${idps.default-idp.hostName}"/sso"
      loginbind = "urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST"
      trustedCerts = "/etc/idm/certs/idp.pem"

      #Supported signature algorithms for default idp
      supportedSignatureAlgorithms = ["http://www.w3.org/2000/09/xmldsig#rsa-sha1", "http://www.w3.org/2001/04/xmldsig-more#rsa-sha256",
          "http://www.w3.org/2001/04/xmldsig-more#rsa-sha384", "http://www.w3.org/2001/04/xmldsig-more#rsa-sha512"]

      keystoreURL = "/etc/idm/certs/idm.p12"
      keystoreURL = ${?IDENTITY_MANAGEMENT_TIBCOACCOUNT_KEYSTORE_URL}
      keystorepassword = ${?IDENTITY_MANAGEMENT_TIBCOACCOUNT_KEY_STORE_PASSWORD}
      keystorekeyalias = "cic_cloud"
      keystorekeyalias = ${?IDENTITY_MANAGEMENT_TIBCOACCOUNT_KEY_STORE_KEY_ALIAS}
      keystoretype = "PKCS12"
      nameidformattransient = "urn:oasis:names:tc:SAML:2.0:nameid-format:transient"
      passwordprotectedtransport = "urn:oasis:names:tc:SAML:2.0:ac:classes:PasswordProtectedTransport"
      TSC {
        requestingSystem = "ignored"
        requestingSystemUsername = "ignored"
        secretKey = "ignored"
      }
    }
  }
